(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dragdialog"],{"0a25":function(e,t,a){},"0e74":function(e,t,a){"use strict";var i=a("1349"),s=a.n(i);s.a},1349:function(e,t,a){},"1fcf":function(e,t){e.exports="data:image/png;base64,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"},"28df":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"income-conut"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 收入统计\n            ")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"box"},[a("div",{staticClass:"box-item"},[a("div",{staticClass:"item-number"},[e._v(e._s(e.income.dailyIncome))]),a("div",{staticClass:"item-name"},[e._v("今日收入")])]),a("div",{staticClass:"box-item"},[a("div",{staticClass:"item-number"},[e._v(e._s(e.income.weekIncome))]),a("div",{staticClass:"item-name"},[e._v("本周收入")])]),a("div",{staticClass:"box-item"},[a("div",{staticClass:"item-number"},[e._v(e._s(e.income.monthIncome))]),a("div",{staticClass:"item-name"},[e._v("本月收入")])]),a("div",{staticClass:"box-item"},[a("div",{staticClass:"item-number"},[e._v(e._s(e.income.totalIncome))]),a("div",{staticClass:"item-name"},[e._v("总收入")])])]),a("div",{staticClass:"table"},[a("div",{staticClass:"search-line"},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.change},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),a("el-button",{attrs:{type:"primary"},on:{click:e.changeType}},[e._v("切换图表")]),a("el-button",{attrs:{type:"primary"},on:{click:e.out}},[e._v("保存图片")])],1),a("div",{staticClass:"chart"},[a("ve-chart",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{id:"v-charts",data:e.chartData,grid:e.grid,"data-empty":e.dataEmpty,settings:e.chartSettings}})],1)])])])},s=[],n={data:function(){return this.typeArr=["line","histogram"],this.index=0,this.grid={show:!0,backgroundColor:"#fff"},{income:"",time:"",typeArr:["line","histogram"],index:0,chartData:{columns:["date","totalPrice"],rows:[]},chartSettings:{type:this.typeArr[this.index],labelMap:{totalPrice:"收入"}},loading:!1,dataEmpty:!1}},created:function(){this.setTime()},watch:{time:{handler:function(){this.getList()}}},methods:{changeType:function(){this.index++,this.index==this.typeArr.length&&(this.index=0),this.chartSettings={type:this.typeArr[this.index],labelMap:{totalPrice:"收入"}}},setTime:function(){var e=new Date,t=new Date(e.getTime()-2592e6),a={year:t.getFullYear(),month:t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,day:t.getDate()<10?"0"+t.getDate():t.getDate()},i={year:e.getFullYear(),month:e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,day:e.getDate()<10?"0"+e.getDate():e.getDate()},s=[];s.push(a.year+"-"+a.month+"-"+a.day),s.push(i.year+"-"+i.month+"-"+i.day),this.time=s},getList:function(){var e=this;this.loading=!0;var t={start:this.time&&this.time.length?this.time[0]:"",end:this.time&&this.time.length?this.time[1]:""};for(var a in t)t[a]||0===t[a]||delete t[a];this.axios.get("/manager/statistics/income",{params:t}).then((function(t){e.income=t.data;var a=e.chartData;a.rows=t.data.dailyIncomes,e.chartData=a,e.dataEmpty=!(t.data&&t.data.dailyIncomes&&t.data.dailyIncomes.length),e.loading=!1}))},out:function(){var e="v-charts",t=document.querySelector("#".concat(e," canvas")),a=t.toDataURL("image/png"),i=document.createElement("a");console.log(t),i.download="收入.png",i.style.display="none",i.href=a,document.body.appendChild(i),i.click(),document.body.removeChild(i)},change:function(e){console.log(e);var t=e[0],a=e[1],i=new Date(t).getTime(),s=new Date(a).getTime();s-i>2592e6&&(this.$message.error("时间之差不能超过30天"),this.setTime())}}},l=n,r=(a("fa5e"),a("2877")),o=Object(r["a"])(l,i,s,!1,null,"f2c66ed4",null);t["default"]=o.exports},3618:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order-manage"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 订单统计\n            ")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"search-line"},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),a("el-select",{attrs:{placeholder:"请选择支付状态",clearable:""},model:{value:e.paymentMethod,callback:function(t){e.paymentMethod=t},expression:"paymentMethod"}},[a("el-option",{attrs:{label:"未支付",value:0}}),a("el-option",{attrs:{label:"微信支付",value:2}}),a("el-option",{attrs:{label:"支付宝支付",value:3}})],1),a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.list}},[a("el-table-column",{attrs:{label:"购买人",prop:"userName",align:"center"}}),a("el-table-column",{attrs:{label:"订单号",prop:"orderNumber",align:"center"}}),a("el-table-column",{attrs:{label:"购买内容",prop:"note",align:"center"}}),a("el-table-column",{attrs:{label:"支付状态",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[3==t.row.paymentMethod?a("el-tag",[e._v("支付宝支付")]):e._e(),2==t.row.paymentMethod?a("el-tag",{attrs:{type:"success"}},[e._v("微信支付")]):e._e(),0==t.row.paymentMethod?a("el-tag",{attrs:{type:"info"}},[e._v("未支付")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"创建时间",prop:"createtime",align:"center"}}),a("el-table-column",{attrs:{label:"价格",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"warning",hit:!0,effect:"dark",color:"rgba(238,199,16,1)"}},[e._v("￥"+e._s(t.row.totalPrice))])]}}])})],1),a("div",{staticClass:"page-btn"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.pageNum,"page-size":e.pageSize,total:e.totalPage},on:{"current-change":e.handlePageChange}})],1)],1)])},s=[],n={data:function(){return{loading:!1,time:"",list:[],pageNum:1,pageSize:10,totalPage:0,paymentMethod:"",userName:""}},created:function(){this.getList()},methods:{getList:function(){var e=this,t={start:this.time&&this.time.length?this.time[0]:"",end:this.time&&this.time.length?this.time[1]:"",pageNum:this.pageNum,pageSize:this.pageSize,paymentMethod:this.paymentMethod,userName:this.userName};for(var a in t)t[a]||0===t[a]||delete t[a];this.loading=!0,this.axios.get("/manager/userManagement/obtainOrder",{params:t}).then((function(t){e.loading=!1,e.list=t.data.contents,e.totalPage=t.data.page.total}))},handlePageChange:function(e){this.pageNum=e,this.getList()},handleSearch:function(){this.getList()}}},l=n,r=(a("f945"),a("2877")),o=Object(r["a"])(l,i,s,!1,null,"e06460f6",null);t["default"]=o.exports},"4a16":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",{staticClass:"teacher-list",on:{click:function(t){return t.target!==t.currentTarget?null:e.closeThis(t)}}},[a("div",{staticClass:"list-content"},[a("div",{staticClass:"search-input"},[a("div",{staticStyle:{"margin-right":"1rem"}},[a("el-input",{attrs:{placeholder:"请输入教师名称"},model:{value:e.teacherName,callback:function(t){e.teacherName=t},expression:"teacherName"}})],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",{staticStyle:{"margin-top":"1rem"}},[a("el-table",{ref:"table",staticClass:"table",attrs:{data:e.list},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"教师照片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"50px",height:"50px","object-fit":"contain"},attrs:{src:e.row.photo,alt:"图片未加载"}})]}}],null,!1,3686283370)}),a("el-table-column",{attrs:{prop:"name",label:"教师名称"}}),a("el-table-column",{attrs:{prop:"note",label:"教师简介"}}),a("el-table-column",{attrs:{label:"选择"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.select(t.$index,t.row)}}},[e._v("选择")])]}}],null,!1,2722384122)})],1)],1)])]):e._e()},s=[],n=(a("7f7f"),{name:"teacherlist",props:{show:{type:Boolean,value:!1}},data:function(){return{teacherName:"",pageNum:1,pageSize:10,list:[],totalPage:1}},created:function(){this.getList()},methods:{handleSearch:function(){this.getList()},closeThis:function(){this.$emit("close")},getList:function(){var e=this,t={teacherName:this.teacherName,pageNum:this.pageNum,pageSize:this.pageSize};this.axios.get("/manager/teacherManagement/obtianTeacher",{params:t}).then((function(t){console.log(t),e.list=t.data.contents,e.totalPage=t.data.page.pages}))},handleSelectionChange:function(){},select:function(e,t){this.$emit("select",{id:t.id,name:t.name})}}}),l=n,r=(a("d99a"),a("2877")),o=Object(r["a"])(l,i,s,!1,null,null,null);t["a"]=o.exports},"4c57":function(e,t,a){"use strict";var i=a("0a25"),s=a.n(i);s.a},"4ece":function(e,t,a){},"4f0f":function(e,t,a){"use strict";var i=a("cd42"),s=a.n(i);s.a},"5b23":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-detail"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 用户详情\n            ")])],1)],1),a("div",{staticClass:"container"},[a("el-tabs",{staticClass:"tabs",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"用户订单",name:"1"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.list}},[a("el-table-column",{attrs:{label:"订单号",prop:"orderNumber",align:"center"}}),a("el-table-column",{attrs:{label:"购买内容",prop:"note",align:"center"}}),a("el-table-column",{attrs:{label:"购买方式",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[3==t.row.paymentMethod?a("el-tag",[e._v("支付宝")]):e._e(),2==t.row.paymentMethod?a("el-tag",{attrs:{type:"success"}},[e._v("微信")]):e._e(),0==t.row.paymentMethod?a("el-tag",{attrs:{type:"info"}},[e._v("未支付")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"支付时间",prop:"buyTime",align:"center"}}),a("el-table-column",{attrs:{label:"价格",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"warning",hit:!0,effect:"dark",color:"rgba(238,199,16,1)"}},[e._v("￥"+e._s(t.row.totalPrice))])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"用户购买课程学习进度",name:"2"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.list}},[a("el-table-column",{attrs:{label:"课程名",prop:"courseName",align:"center"}}),a("el-table-column",{attrs:{label:"过期时间",prop:"expireTime",align:"center"}}),a("el-table-column",{attrs:{label:"观看次数",prop:"watchFrequency",align:"center"}}),a("el-table-column",{attrs:{label:"进度",align:"center",width:"400"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("div",{staticClass:"tab-progress"},[a("el-progress",{attrs:{percentage:e.row.schedule}})],1)]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.editTime(t.row)}}},[e._v("修改过期时间")])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"用户登陆记录",name:"3"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.list}},[a("el-table-column",{attrs:{label:"登陆端",prop:"fromLogin",align:"center"}}),a("el-table-column",{attrs:{label:"登陆地址",prop:"address",align:"center"}}),a("el-table-column",{attrs:{label:"登陆时间",prop:"updatetime",align:"center"}}),a("el-table-column",{attrs:{label:"登陆IP",prop:"ip",align:"center"}})],1)],1),a("el-tab-pane",{attrs:{label:"用户测试试卷分数",name:"4"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.list}},[a("el-table-column",{attrs:{label:"试卷名称",prop:"name",align:"center"}}),a("el-table-column",{attrs:{label:"提交时间",prop:"createtime",align:"center"}}),a("el-table-column",{attrs:{label:"评估结果",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.totalScore+"分"))]}}])}),a("el-table-column",{attrs:{label:"总分",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.overallResult+"分"))]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"用户的观看视频记录",name:"5"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.list}},[a("el-table-column",{attrs:{label:"课程名称",prop:"courseName",align:"center"}}),a("el-table-column",{attrs:{label:"课节名称",prop:"courseCatalogName",align:"center"}}),a("el-table-column",{attrs:{label:"更新时间",prop:"updatetime",align:"center"}}),a("el-table-column",{attrs:{label:"观看时长(单位:s)",prop:"watchTime",align:"center"}})],1)],1)],1),a("div",{staticClass:"page-btn"},[4==e.activeName?a("el-button",{attrs:{type:"primary"},on:{click:e.getExecl}},[e._v("导出数据")]):e._e(),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.pageNum,"page-size":e.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1),a("el-dialog",{staticClass:"edit-time",attrs:{title:"修改过期时间",visible:e.testVisible,width:"20%","close-on-click-modal":!1},on:{"update:visible":function(t){e.testVisible=t}}},[a("div",[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd hh:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.currentTime,callback:function(t){e.currentTime=t},expression:"currentTime"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.testVisible=!1}}},[e._v("取 消")]),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:!e.isCheckTime,expression:"!isCheckTime"}],attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确定")])],1)])],1)},s=[],n=(a("28a5"),a("751a")),l=a.n(n),r={data:function(){return{userId:"",pageNum:1,pageSize:10,list:[],pageTotal:0,activeName:"1",testVisible:!1,currentTimeItem:"",currentTime:"",isCheckTime:!0}},created:function(){var e=this.$route.query.userId;e&&(this.userId=e,this.getList())},watch:{activeName:{handler:function(){this.pageNum=1,this.getList()}}},methods:{getList:function(){var e=this,t={pageNum:this.pageNum,pageSize:this.pageSize,type:this.activeName,userId:this.userId};this.loading=!0,this.axios.get("/manager/userManagement/obtainUserDetailType",{params:t}).then((function(t){e.loading=!1,e.list=t.data.contents,e.pageTotal=t.data.page.total}))},handlePageChange:function(e){this.pageNum=e,this.getList()},editTime:function(e){this.testVisible=!0,this.currentTimeItem=e},confirm:function(){var e=this;if(this.isCheckTime)if(this.currentTime){var t=this.currentTimeItem,a={date:this.currentTime,orderDetailId:t.orderDetailId};this.isCheckTime=!1,this.axios.get("/manager/userManagement/updateExpireTime",{params:a}).then((function(t){e.testVisible=!1,e.currentTime="",e.currentTimeItem="",e.$message.success("修改成功"),setTimeout((function(){e.isCheckTime=!0}),500),e.getList()}))}else this.$message.error("请选择时间")},getExecl:function(){var e=this;if(this.isCheckTime){var t={userId:this.userId};this.isCheckTime=!1,this.axios.get("/manager/userManagement/exportUserGradeExcel",{params:t}).then((function(t){var a=t.data,i=a.split("/")[1],s=document.createElement("a");s.download=i,s.style.display="none",s.href=l.a.url+"/"+a,document.body.appendChild(s),s.click(),document.body.removeChild(s),setTimeout((function(){e.isCheckTime=!0}),500)}))}}}},o=r,c=(a("4c57"),a("2877")),u=Object(c["a"])(o,i,s,!1,null,"4b1e0450",null);t["default"]=u.exports},6485:function(e,t,a){},7020:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 审核\n            ")])],1)],1),a("div",{staticClass:"container"},[a("div"),a("div",[a("el-select",{on:{change:e.changeStatus},model:{value:e.certification,callback:function(t){e.certification=t},expression:"certification"}},[a("el-option",{attrs:{label:"全部",value:2}},[e._v("全部")]),a("el-option",{attrs:{label:"未审核",value:-1}},[e._v("未审核")]),a("el-option",{attrs:{label:"未通过",value:0}},[e._v("未通过")]),a("el-option",{attrs:{label:"已通过",value:1}},[e._v("已通过")])],1)],1),a("div",{staticStyle:{"margin-top":"1rem"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list}},[a("el-table-column",{attrs:{label:"头像",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"avatar-img",attrs:{src:e.row.avatar}})]}}])}),a("el-table-column",{attrs:{label:"姓名",prop:"name",align:"center"}}),a("el-table-column",{attrs:{label:"性别",prop:"gender",align:"center"}}),a("el-table-column",{attrs:{label:"出生日期",prop:"birthday",align:"center"}}),a("el-table-column",{attrs:{label:"电话",prop:"phone",align:"center"}}),a("el-table-column",{attrs:{label:"邮箱",prop:"email",align:"center"}}),a("el-table-column",{attrs:{label:"地址",prop:"city",align:"center"}}),e._v("、\n                "),a("el-table-column",{attrs:{label:"职业",prop:"career",align:"center"}}),e._v("、\n                "),a("el-table-column",{attrs:{label:"审核状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[-1==t.row.certification?a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.examine(t.$index,t.row)}}},[e._v("审核")]):e._e(),1==t.row.certification?a("el-tag",{attrs:{type:"success"}},[e._v("已通过")]):e._e(),0==t.row.certification?a("el-tag",{attrs:{type:"danger"}},[e._v("未通过")]):e._e()]}}])})],1)],1),a("div",{staticStyle:{"margin-top":"1rem","text-align":"right"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.pageNum,"page-size":e.pageSize,total:e.total},on:{"current-change":e.changeNum}})],1)]),a("el-dialog",{attrs:{title:"审核",top:"5vh",visible:e.editVisible,width:"60%","close-on-click-modal":!1},on:{"update:visible":function(t){e.editVisible=t}}},[a("el-carousel",{attrs:{height:"600px","indicator-position":"outside"}},e._l(e.currentItem.qualifications,(function(e,t){return a("el-carousel-item",{key:t},[a("img",{staticClass:"examine-img",attrs:{src:e.path,alt:""}})])})),1),a("div",{staticClass:"bottom-btn"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:!e.examineTime,expression:"!examineTime"}],attrs:{type:"primary"},on:{click:e.confirm}},[e._v("通过")]),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:!e.examineTime,expression:"!examineTime"}],attrs:{type:"primary"},on:{click:e.cancel}},[e._v("拒绝")])],1)],1)],1)},s=[],n=(a("ac6a"),{name:"examine",data:function(){return{loading:!1,list:[],certification:2,pageNum:1,pageSize:10,total:0,editVisible:!1,currentItem:"",examineTime:!0}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0;var t={certification:2==this.certification?"":this.certification,pageNum:this.pageNum,pageSize:this.pageSize};for(var a in t)t[a]||0===t[a]||delete t[a];this.axios.get("/manager/auditManagement/obtainAuditInformation",{params:t}).then((function(t){e.loading=!1;var a=t.data.contents;a.forEach((function(e){e.certification=e.qualifications[0].certification})),e.list=a,e.total=t.data.page.pages}))},changeStatus:function(e){this.certification=e,this.getList(),console.log(e)},examine:function(e,t){this.currentItem=t,this.editVisible=!0},confirm:function(){var e=this;if(this.examineTime){var t={userId:this.currentItem.userId,certification:1};this.examineTime=!1,this.axios.get("/manager/auditManagement/review",{params:t}).then((function(t){e.$message.success("审核成功"),e.editVisible=!1,e.getList(),setTimeout((function(){e.examineTime=!0}),500)}))}},cancel:function(){var e=this;if(this.examineTime){var t={userId:this.currentItem.userId,certification:0};this.examineTime=!1,this.axios.get("/manager/auditManagement/review",{params:t}).then((function(t){e.$message.success("审核成功"),e.editVisible=!1,e.getList(),setTimeout((function(){e.examineTime=!0}),500)}))}},changeNum:function(e){this.pageNum=e,this.getList()}}}),l=n,r=(a("73f7"),a("2877")),o=Object(r["a"])(l,i,s,!1,null,"1870fe7c",null);t["default"]=o.exports},7098:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"income-conut"},[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 活跃统计\n            ")])],1)],1),i("div",{staticClass:"container"},[i("div",{staticClass:"search-line"},[i("div",{staticClass:"box-title"},[e._v(e._s("day"==e.pType?"今日活跃排行榜":"总活跃排行榜"))]),i("el-button",{attrs:{type:"primary"},on:{click:e.changeP}},[e._v("切换排行榜")])],1),"all"==e.pType?i("div",{staticClass:"box"},[i("div",{staticClass:"box-item"},[i("img",{attrs:{src:a("1fcf"),alt:""}}),e.chartData&&e.chartData.length>=1?i("div",[i("span",{staticClass:"item-num first"},[e._v("活跃度:"+e._s(e.chartData[0].activityNumber))]),i("span",{staticClass:"item-name"},[e._v(e._s(e.chartData[0].userName))])]):i("div",{staticClass:"item-caption"},[e._v("虚位以待")])]),i("div",{staticClass:"box-item"},[i("img",{attrs:{src:a("a021"),alt:""}}),e.chartData&&e.chartData.length>=2?i("div",[i("span",{staticClass:"item-num second"},[e._v("活跃度:"+e._s(e.chartData[1].activityNumber))]),i("span",{staticClass:"item-name"},[e._v(e._s(e.chartData[1].userName))])]):i("div",{staticClass:"item-caption"},[e._v("虚位以待")])]),i("div",{staticClass:"box-item"},[i("img",{attrs:{src:a("784e"),alt:""}}),e.chartData&&e.chartData.length>=3?i("div",[i("span",{staticClass:"item-num three"},[e._v("活跃度:"+e._s(e.chartData[2].activityNumber))]),i("span",{staticClass:"item-name"},[e._v(e._s(e.chartData[2].userName))])]):i("div",{staticClass:"item-caption"},[e._v("虚位以待")])])]):e._e(),"day"==e.pType?i("div",{staticClass:"box"},[i("div",{staticClass:"box-item"},[i("img",{attrs:{src:a("1fcf"),alt:""}}),e.chartDataDay.rows&&e.chartDataDay.rows.length>=1?i("div",[i("span",{staticClass:"item-num first"},[e._v("活跃度:"+e._s(e.chartDataDay.rows[0].activityNumber))]),i("span",{staticClass:"item-name"},[e._v(e._s(e.chartDataDay.rows[0].userName))])]):i("div",{staticClass:"item-caption"},[e._v("虚位以待")])]),i("div",{staticClass:"box-item"},[i("img",{attrs:{src:a("a021"),alt:""}}),e.chartDataDay.rows&&e.chartDataDay.rows.length>=2?i("div",[i("span",{staticClass:"item-num second"},[e._v("活跃度:"+e._s(e.chartDataDay.rows[1].activityNumber))]),i("span",{staticClass:"item-name"},[e._v(e._s(e.chartDataDay.rows[1].userName))])]):i("div",{staticClass:"item-caption"},[e._v("虚位以待")])]),i("div",{staticClass:"box-item"},[i("img",{attrs:{src:a("784e"),alt:""}}),e.chartDataDay.rows&&e.chartDataDay.rows.length>=3?i("div",[i("span",{staticClass:"item-num three"},[e._v("活跃度:"+e._s(e.chartDataDay.rows[2].activityNumber))]),i("span",{staticClass:"item-name"},[e._v(e._s(e.chartDataDay.rows[2].userName))])]):i("div",{staticClass:"item-caption"},[e._v("虚位以待")])])]):e._e(),i("div",{staticClass:"table"},[i("div",{staticClass:"search-line"},[i("div",{staticClass:"box-title"},[e._v("今日活跃度统计图")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.changeType("day")}}},[e._v("切换图表")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.out("day")}}},[e._v("保存图片")])],1),i("div",{staticClass:"chart"},[i("ve-chart",{attrs:{id:"v-charts-day",data:e.chartDataDay,grid:e.grid,"data-empty":e.dataEmptyDay,settings:e.chartSettingsDay}})],1),i("div",{staticClass:"search-line"},[i("div",{staticClass:"box-title"},[e._v("总活跃度统计图")]),i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.change},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.changeType("all")}}},[e._v("切换图表")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.out("all")}}},[e._v("保存图片")])],1),i("div",{staticClass:"chart"},[i("ve-chart",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{id:"v-charts-all",data:e.chartDataAll,grid:e.grid,"data-empty":e.dataEmptyAll,settings:e.chartSettingsAll}})],1)])])])},s=[],n={data:function(){return this.typeArr=["line","histogram"],this.index=0,this.grid={show:!0,backgroundColor:"#fff"},{pType:"day",activeDay:"",activeAll:"",time:"",pageNum:1,pageSize:30,typeArr:["line","histogram"],index:0,chartDataDay:{columns:["userName","activityNumber"],rows:[]},chartSettingsDay:{type:this.typeArr[this.index],labelMap:{activityNumber:"日活跃度"}},chartDataAll:{columns:["date","activityNumber"],rows:[]},chartSettingsAll:{type:this.typeArr[this.index],labelMap:{activityNumber:"总活跃度"}},chartData:[],loading:!1,dataEmptyDay:!1,dataEmptyAll:!1}},created:function(){this.setTime()},watch:{time:{handler:function(){this.getList()}}},methods:{changeType:function(e){this.index++,this.index==this.typeArr.length&&(this.index=0),"day"==e?this.chartSettingsDay={type:this.typeArr[this.index],labelMap:{activityNumber:"日活跃度"}}:"all"==e&&(this.chartSettingsAll={type:this.typeArr[this.index],labelMap:{activityNumber:"总活跃度"}})},setTime:function(){var e=new Date,t=new Date(e.getTime()-2592e6),a={year:t.getFullYear(),month:t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,day:t.getDate()<10?"0"+t.getDate():t.getDate()},i={year:e.getFullYear(),month:e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,day:e.getDate()<10?"0"+e.getDate():e.getDate()},s=[];s.push(a.year+"-"+a.month+"-"+a.day),s.push(i.year+"-"+i.month+"-"+i.day),this.time=s},getList:function(){var e=this;this.loading=!0;var t={start:this.time&&this.time.length?this.time[0]+" 00:00:00":"",end:this.time&&this.time.length?this.time[1]+" 23:59:59":"",pageNum:this.pageNum,pageSize:this.pageSize};for(var a in t)t[a]||0===t[a]||delete t[a];this.axios.get("/manager/statistics/userActivity",{params:t}).then((function(t){console.log(t.data);var a=e.chartDataDay,i=e.chartDataAll;a.rows=t.data.userActivityPersonals,i.rows=t.data.userActivityTotals,e.chartData=t.data.userTotalActivityPersonals,e.chartDataDay=a,e.chartDataAll=i,e.dataEmptyDay=!(t.data&&t.data.userActivityPersonals&&t.data.userActivityPersonals.length),e.dataEmptyAll=!(t.data&&t.data.userActivityTotals&&t.data.userActivityTotals.length),e.loading=!1}))},out:function(e){var t="v-charts-"+e,a=document.querySelector("#".concat(t," canvas")),i=a.toDataURL("image/png"),s=document.createElement("a");console.log(a),s.download="all"==e?"总活跃度.png":"今日活跃度.png",s.style.display="none",s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s)},change:function(e){console.log(e);var t=e[0],a=e[1],i=new Date(t).getTime(),s=new Date(a).getTime();s-i>2592e6&&(this.$message.error("时间之差不能超过30天"),this.setTime())},changeP:function(){"all"==this.pType?this.pType="day":this.pType="all"}}},l=n,r=(a("0e74"),a("2877")),o=Object(r["a"])(l,i,s,!1,null,"1c4a3808",null);t["default"]=o.exports},"73f7":function(e,t,a){"use strict";var i=a("9f7f"),s=a.n(i);s.a},"751a":function(e,t){var a="https://aioes.cn";e.exports={url:a}},"784e":function(e,t){e.exports="data:image/png;base64,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"},"83ef":function(e,t,a){},8885:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"question"},[a("Crumbes",{attrs:{title:"管理员管理"}}),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"container"},[a("div",{staticClass:"handle-box display_flex between"},[a("div",{staticClass:"display_flex"},[a("el-select",{staticClass:"m-r-20",staticStyle:{"max-width":"200px"},attrs:{clearable:"",placeholder:"请选择问题状态"},model:{value:e.searchForm.answerStatus,callback:function(t){e.$set(e.searchForm,"answerStatus",t)},expression:"searchForm.answerStatus"}},[a("el-option",{attrs:{label:"未回答",value:"0"}}),a("el-option",{attrs:{label:"已回答",value:"1"}})],1),a("el-date-picker",{staticClass:"m-r-20",staticStyle:{"max-width":"140px"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择开始日期"},model:{value:e.searchForm.start,callback:function(t){e.$set(e.searchForm,"start",t)},expression:"searchForm.start"}}),a("el-date-picker",{staticClass:"m-r-20",staticStyle:{"max-width":"140px"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择结束日期"},model:{value:e.searchForm.end,callback:function(t){e.$set(e.searchForm,"end",t)},expression:"searchForm.end"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getData()}}},[e._v("搜索")])],1)]),a("el-table",{attrs:{border:"",data:e.dataList}},[a("el-table-column",{attrs:{width:"50",type:"index",label:"序号"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"name",label:"问题内容"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"teacherName",width:"140",label:"教师名称"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"answer",label:"回答内容"}}),a("el-table-column",{attrs:{width:"80","show-overflow-tooltip":"",label:"问题类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1===t.row.type?"普通问题":2===t.row.type?"常见问题":""))]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",width:"140",prop:"createtime",label:"创建时间"}}),a("el-table-column",{attrs:{width:"150",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.openDialog("edit",t.row)}}},[e._v("回答")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteData(t.row)}}},[e._v("删除")])]}}])})],1),a("Pagination",{attrs:{data:e.paginationData},on:{currentChange:e.currentChange}})],1),a("el-dialog",{attrs:{title:e.dialogType?"新增问题":"编辑问题信息",visible:e.messageDialog,width:"30%"},on:{"update:visible":function(t){e.messageDialog=t}}},[a("el-form",{attrs:{"label-width":"70px"}},[a("el-form-item",{attrs:{label:"问题内容"}},[e._v(e._s(e.dialogInfo.name))]),a("el-form-item",{attrs:{label:"回答教师"}},[e._v(e._s(e.dialogInfo.teacherName))]),a("el-form-item",{attrs:{label:"回答内容"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入回答内容"},model:{value:e.dialogInfo.answer,callback:function(t){e.$set(e.dialogInfo,"answer",t)},expression:"dialogInfo.answer"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.messageDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitBtn}},[e._v("保 存")])],1)],1)],1)},s=[],n=(a("7f7f"),a("ac6a"),{name:"question",components:{Crumbes:function(){return a.e("chunk-2d0b1a42").then(a.bind(null,"215b"))},Pagination:function(){return a.e("chunk-679a02ad").then(a.bind(null,"d529"))}},data:function(){return{rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],teacherName:[{required:!0,message:"请输入用户名",trigger:"blur"},{pattern:/^[0-9A-Za-z]{6,10}$/,message:"请输入正确的用户名"}],answer:[{required:!0,message:"请输入简介",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^[0-9A-Za-z]{6,10}$/,message:"请输入正确的用户名"}],photo:[{required:!0,message:"请上传图片",trigger:"blur"}]},loading:!1,dataList:[],teacherList:[],paginationData:{},pageNumber:"",searchForm:{},messageDialog:!1,dialogType:!1,dialogInfo:{name:""}}},methods:{getData:function(){var e=this;console.log(this.searchForm);var t=JSON.parse(sessionStorage.getItem("ms_username")).roleId;console.log(t);var a={teacherId:t,type:1,pageNum:this.pageNumber||null,answerStatus:this.searchForm.answerStatus||null,start:this.searchForm.start||null,end:this.searchForm.end||null};this.axios.get("/manager/problemManagement/obtainProblem",{params:a}).then((function(t){200===t.status&&(e.loading=!1,e.dataList=t.data.contents,e.paginationData=t.data.page,e.getTeacherList())}))},currentChange:function(e){this.pageNumber=e,this.getData()},getTeacherList:function(){var e=this,t={pageSize:999};this.axios.get("/manager/teacherManagement/obtianTeacher",{params:t}).then((function(t){200===t.status?e.teacherList=t.data.contents:e.$message.warning(t.data)}))},openDialog:function(e,t){this.messageDialog=!0,this.dialogType="add"===e,this.dialogInfo=t?JSON.parse(JSON.stringify(t)):{name:"",teacherName:"",answer:"",problemId:0,type:2},console.log(this.dialogInfo)},submitBtn:function(){var e,t=this;this.teacherList.forEach((function(a){a.id===t.dialogInfo.teacherId&&(e=a.name)})),!this.dialogType&&(this.dialogInfo["problemId"]=this.dialogInfo.id),this.dialogInfo["teacherName"]=e,this.axios.post("/manager/problemManagement/insertProblem",this.dialogInfo).then((function(e){200===e.status?(t.$message.success("保存成功"),t.messageDialog=!1,t.getData()):t.$message.success(e.data)}))},deleteData:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={problemId:e.id};t.axios.get("/manager/problemManagement/deleteProblem",{params:a}).then((function(e){200===e.status?(t.getData(),t.$message.success(e.data)):t.$message.warning(e.data)}))})).catch((function(){}))}},created:function(){this.getData()}}),l=n,r=(a("bbb5"),a("2877")),o=Object(r["a"])(l,i,s,!1,null,"5cc7aaee",null);t["default"]=o.exports},"91bd":function(e,t,a){"use strict";var i=a("83ef"),s=a.n(i);s.a},9617:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-manage"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 用户管理\n            ")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"search-line"},[a("el-input",{staticClass:"m-r-20",attrs:{placeholder:"请输入用户名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),a("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.list}},[a("el-table-column",{attrs:{label:"头像",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"avatar",attrs:{src:e.row.avatar,alt:""}})]}}])}),a("el-table-column",{attrs:{label:"名字",prop:"name",align:"center"}}),a("el-table-column",{attrs:{label:"性别",prop:"gender",align:"center",width:"100"}}),a("el-table-column",{attrs:{label:"职业",prop:"career",align:"center"}}),a("el-table-column",{attrs:{label:"邮箱",prop:"email",align:"center"}}),a("el-table-column",{attrs:{label:"城市",prop:"city",align:"center",width:"100"}}),a("el-table-column",{attrs:{label:"出生日期",prop:"birthday",align:"center"}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?a("el-tag",{attrs:{type:"success"}},[e._v("正常")]):e._e(),0==t.row.status?a("el-tag",{attrs:{type:"danger"}},[e._v("封禁")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?a("el-button",{attrs:{type:"success"},on:{click:function(a){return e.goBan(t.row)}}},[e._v("解封")]):e._e(),1==t.row.status?a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.goBan(t.row)}}},[e._v("封号")]):e._e(),a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.goDetail(t.row)}}},[e._v("详情")])]}}])})],1),a("div",{staticClass:"page-btn"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.pageNum,"page-size":e.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1)])},s=[],n=(a("7f7f"),{name:"userManage",data:function(){return{pageTotal:0,pageSize:10,pageNum:1,name:"",list:[],loading:!1,time:"",isCheck:!0}},created:function(){this.getList()},computed:{start:function(){return this.time&&this.time.length?this.time[0]+" 00:00:00":""},end:function(){return this.time&&this.time.length?this.time[1]+" 23:59:59":""}},methods:{getList:function(){var e=this,t={start:this.start,end:this.end,name:this.name,pageNum:this.pageNum,pageSize:this.pageSize};for(var a in t)t[a]||0===t[a]||delete t[a];this.loading=!0,this.axios.get("/manager/userManagement/obtainUserDetail",{params:t}).then((function(t){e.loading=!1,e.list=t.data.contents,e.pageTotal=t.data.page.total}))},handleSearch:function(){this.pageNum=1,this.getList()},handlePageChange:function(e){this.pageNum=e,this.getList()},goBan:function(e){var t=this;if(console.log(e),this.isCheck){var a={status:e.status?0:1,userId:e.userId};this.isCheck=!1,this.axios.get("/manager/userManagement/userStatus",{params:a}).then((function(a){t.$message.success(e.status?"封号成功":"解封成功"),t.getList(),setTimeout((function(){t.isCheck=!0}),500)}))}},goDetail:function(e){this.$router.push({path:"/userDetail",query:{userId:e.userId}})}}}),l=n,r=(a("4f0f"),a("2877")),o=Object(r["a"])(l,i,s,!1,null,"4c021de4",null);t["default"]=o.exports},"9f7f":function(e,t,a){},a021:function(e,t){e.exports="data:image/png;base64,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"},bbb5:function(e,t,a){"use strict";var i=a("c5c4"),s=a.n(i);s.a},c086:function(e,t,a){},c5c4:function(e,t,a){},cd42:function(e,t,a){},d99a:function(e,t,a){"use strict";var i=a("c086"),s=a.n(i);s.a},dc24:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 课程管理\n            ")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box display_flex between"},[a("div",{staticClass:"display_flex"},[a("el-input",{staticClass:"m-r-20",attrs:{placeholder:"请输入课程名称"},model:{value:e.query.courseName,callback:function(t){e.$set(e.query,"courseName",t)},expression:"query.courseName"}}),a("el-select",{staticClass:"m-r-20 w-200",attrs:{clearable:""},model:{value:e.selectStatus,callback:function(t){e.selectStatus=t},expression:"selectStatus"}},[a("el-option",{attrs:{label:"下架",value:0}},[e._v("下架")]),a("el-option",{attrs:{label:"发布",value:1}},[e._v("发布")])],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.open}},[e._v("新增")])],1)]),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"courseName",label:"课程名称"}}),a("el-table-column",{attrs:{label:"课程简介",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"less"},[e._v(e._s(t.row.courseNote))])]}}])}),a("el-table-column",{attrs:{label:"课程价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("￥"+e._s(t.row.price))]}}])}),a("el-table-column",{attrs:{label:"适宜观看人群",prop:"suitablePeople",align:"center"}}),a("el-table-column",{attrs:{prop:"teacherName",label:"讲师姓名",align:"center"}}),a("el-table-column",{attrs:{label:"有效时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.effectiveTime+"个月"))]}}])}),a("el-table-column",{attrs:{label:"状态",prop:"publish",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s("0"==t.row.publish?"下架":"发布"))])]}}])}),a("el-table-column",{attrs:{label:"编辑状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.publish(t.$index,t.row)}}},[e._v("\n                        "+e._s("0"==t.row.publish?"发布":" 下架")+"\n                    ")])]}}])}),a("el-table-column",{attrs:{label:"章节测试",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.jumpTest(t.$index,t.row)}}},[e._v("编辑")])]}}])}),a("el-table-column",{attrs:{label:"课节",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.jump(t.$index,t.row)}}},[e._v("编辑")])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.pageNum,"page-size":10,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1),a("el-dialog",{attrs:{title:"课程",visible:e.editVisible,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(t){e.editVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"150px",rules:e.rules}},[a("el-form-item",{attrs:{label:"课程名称",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"课程简介",prop:"note"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:5},resize:"none"},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1),a("el-form-item",{attrs:{label:"价格",prop:"price"}},[a("el-input",{model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"课程观看适宜人群",prop:"suitablePeople"}},[a("el-input",{model:{value:e.form.suitablePeople,callback:function(t){e.$set(e.form,"suitablePeople",t)},expression:"form.suitablePeople"}})],1),a("el-form-item",{attrs:{label:"有效时间(单位:月)",prop:"effectiveTime"}},[a("el-input",{model:{value:e.form.effectiveTime,callback:function(t){e.$set(e.form,"effectiveTime",e._n(t))},expression:"form.effectiveTime"}})],1),a("el-form-item",{attrs:{label:"教师"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.selectTeacherName,callback:function(t){e.$set(e.form,"selectTeacherName",t)},expression:"form.selectTeacherName"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addClass("form")}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"添加测试",visible:e.testVisible,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(t){e.testVisible=t}}},[a("el-table",{ref:"tableTest",staticClass:"table",staticStyle:{height:"300px",overflow:"auto"},attrs:{data:e.testList}},[a("el-table-column",{attrs:{prop:"name",label:"课名称",width:"300"}}),a("el-table-column",{attrs:{label:"课程节次",width:"100",prop:"lesson"}}),a("el-table-column",{attrs:{label:"单元测试",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.editSingleClass(t.row)}}},[e._v("编辑")])]}}])})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.editAllClass}},[e._v("编辑课程评测")])],1)],1),a("teacherlist",{attrs:{show:e.showSelectTeacher},on:{close:function(t){e.showSelectTeacher=!1},select:e.selectTeacher}})],1)},s=[],n=(a("7f7f"),a("4a16")),l={components:{teacherlist:n["a"]},data:function(){return{rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],note:[{required:!0,message:"请输入简介",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"},{pattern:/^[1-9]\d*$|^[1-9]\d*\.[0-9]{0,2}$|^(0\.0[1-9]{1})$|^(0\.[1-9]{1}[1-9]{0,1})$/,message:"请输入正确的金额"}],suitablePeople:[{required:!0,message:"请输入名称",trigger:"blur"}],effectiveTime:[{required:!0,message:"请输入有效期",trigger:"blur"},{type:"number",message:"有效期必须为数字值"}],teacherNameRule:[{required:!0,message:"请输入有效期",trigger:"blur"}]},query:{},form:{id:"",effectiveTime:"",name:"",note:"",price:"",teacherId:"",suitablePeople:"",selectTeacherName:""},tableData:[],testList:[],editVisible:!1,pageTotal:0,pageNum:1,showSelectTeacher:!1,testVisible:!1,testItem:"",selectStatus:""}},created:function(){this.getData({pageNum:this.pageNum,pageSize:10})},methods:{openTeacher:function(e){this.showSelectTeacher=!0},selectTeacher:function(e){console.log(e);var t=JSON.parse(JSON.stringify(this.form));t.teacherId=e.id,t.selectTeacherName=e.name,this.form=t,this.showSelectTeacher=!1},publish:function(e,t){var a=this;console.log(t),0==t.publish?this.$confirm("确定要发布吗？","提示",{type:"warning"}).then((function(){var e={courseId:t.courseId,publish:1};a.axios.get("/manager/courseManagement/publishCourse",{params:e}).then((function(e){a.$message.success("发布成功"),a.getData({pageNum:a.pageNum,pageSize:10})}))})).catch((function(){})):this.$confirm("确定要下架吗？","提示",{type:"warning"}).then((function(){var e={courseId:t.courseId,publish:0};a.axios.get("/manager/courseManagement/publishCourse",{params:e}).then((function(e){a.$message.success("下架成功"),a.getData({pageNum:a.pageNum,pageSize:10})}))})).catch((function(){}))},getData:function(e){var t=this,a=sessionStorage.getItem("ms_username");console.log(a),a&&(e.teacherId=JSON.parse(a).roleId),this.axios.get("/manager/courseManagement/obtainCourse",{params:e}).then((function(e){t.tableData=e.data.contents,t.pageTotal=e.data.page.total,t.pageNum=e.data.page.pageNum}))},handleSearch:function(){var e={courseName:this.query.courseName,publish:this.selectStatus,pageNum:1,pageSize:10};for(var t in e)e[t]||0===e[t]||delete e[t];this.getData(e)},handleDelete:function(e,t){var a=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){var e={courseId:t.courseId};a.axios.get("/manager/courseManagement/deleteCourse",{params:e}).then((function(e){a.$message.success("删除成功"),a.getData({pageNum:1,pageSize:10})}))})).catch((function(){}))},handleSelectionChange:function(e){this.multipleSelection=e},delAllSelection:function(){var e=this.multipleSelection.length,t="";this.delList=this.delList.concat(this.multipleSelection);for(var a=0;a<e;a++)t+=this.multipleSelection[a].name+" ";this.$message.error("删除了".concat(t)),this.multipleSelection=[]},handleEdit:function(e,t){this.editVisible=!0;var a=this.tableData[e];console.log(a);var i={name:a.courseName,note:a.courseNote,price:a.price,suitablePeople:a.suitablePeople,effectiveTime:a.effectiveTime,selectTeacherName:a.teacherName,teacherId:a.teacherId,id:a.courseId};this.form=i},open:function(e){this.form={id:0,effectiveTime:"",name:"",note:"",price:"",teacherId:"",suitablePeople:""};var t=JSON.parse(JSON.stringify(this.form)),a=JSON.parse(sessionStorage.getItem("ms_username"));t.teacherId=a.roleId,t.selectTeacherName=a.name,this.form=t,this.editVisible=!0},addClass:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.axios.post("/manager/courseManagement/insertCourse",t.form).then((function(e){t.$message.success(t.form.id?"更新成功":"添加成功"),t.editVisible=!1,t.getData({pageNum:1,pageSize:10})}))}))},saveEdit:function(){this.editVisible=!1,this.$message.success("修改第 ".concat(this.idx+1," 行成功")),this.$set(this.tableData,this.idx,this.form)},handlePageChange:function(e){console.log(e),this.getData({pageNum:e,pageSize:10})},jump:function(e,t){console.log(e),this.$router.push({path:"/course",query:{id:t.courseId}})},editSingleClass:function(e){var t=e;console.log(t),this.$router.push({path:"/courseTest",query:{id:t.courseId,testId:t.id}})},editAllClass:function(){var e=this.testItem;this.$router.push({path:"/classTest",query:{id:e.courseId}})},jumpTest:function(e,t){var a=this,i=t.courseId;this.testItem=t,this.testVisible=!0,this.axios.get("/manager/courseManagement/obtainCourseCatalog",{params:{courseId:i}}).then((function(e){a.testList=e.data}))}}},r=l,o=(a("91bd"),a("2877")),c=Object(o["a"])(r,i,s,!1,null,"31ee1d4c",null);t["default"]=c.exports},f945:function(e,t,a){"use strict";var i=a("6485"),s=a.n(i);s.a},fa5e:function(e,t,a){"use strict";var i=a("4ece"),s=a.n(i);s.a}}]);