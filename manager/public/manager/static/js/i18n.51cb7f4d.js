(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["i18n"],{"3dad":function(e,t,a){},"4c9b":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"question"},[a("Crumbes",{attrs:{title:"管理员管理"}}),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"container"},[a("div",{staticClass:"handle-box display_flex between"},[a("div",{staticClass:"display_flex"},[a("el-input",{staticClass:"m-r-20",staticStyle:{"max-width":"200px"},attrs:{clearable:"",placeholder:"请输入回答老师名称"},model:{value:e.searchForm.teacherName,callback:function(t){e.$set(e.searchForm,"teacherName",t)},expression:"searchForm.teacherName"}}),a("el-select",{staticClass:"m-r-20",staticStyle:{"max-width":"200px"},attrs:{clearable:"",placeholder:"请选择请选择问题状态"},model:{value:e.searchForm.answerStatus,callback:function(t){e.$set(e.searchForm,"answerStatus",t)},expression:"searchForm.answerStatus"}},[a("el-option",{attrs:{label:"未回答",value:"0"}}),a("el-option",{attrs:{label:"已回答",value:"1"}})],1),a("el-select",{staticClass:"m-r-20",staticStyle:{"max-width":"200px"},attrs:{clearable:"",placeholder:"请选择问题类型"},model:{value:e.searchForm.type,callback:function(t){e.$set(e.searchForm,"type",t)},expression:"searchForm.type"}},[a("el-option",{attrs:{label:"普通问题",value:"1"}}),a("el-option",{attrs:{label:"常见问题",value:"2"}})],1),a("el-date-picker",{staticClass:"m-r-20",staticStyle:{"max-width":"140px"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择开始日期"},model:{value:e.searchForm.start,callback:function(t){e.$set(e.searchForm,"start",t)},expression:"searchForm.start"}}),a("el-date-picker",{staticClass:"m-r-20",staticStyle:{"max-width":"140px"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择结束日期"},model:{value:e.searchForm.end,callback:function(t){e.$set(e.searchForm,"end",t)},expression:"searchForm.end"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getData()}}},[e._v("搜索")])],1),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.openDialog("add")}}},[e._v("新增")])],1)]),a("el-table",{attrs:{border:"",data:e.dataList}},[a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"name",label:"问题内容"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"teacherName",width:"140",label:"教师名称"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"answer",label:"回答内容"}}),a("el-table-column",{attrs:{width:"80","show-overflow-tooltip":"",label:"问题类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1===t.row.type?"普通问题":2===t.row.type?"常见问题":""))]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",width:"140",prop:"createtime",label:"创建时间"}}),a("el-table-column",{attrs:{width:"150",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.openDialog("edit",t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteData(t.row)}}},[e._v("删除")])]}}])})],1),a("Pagination",{attrs:{data:e.paginationData},on:{currentChange:e.currentChange}})],1),a("el-dialog",{attrs:{title:e.dialogType?"新增问题":"编辑问题信息",visible:e.messageDialog,width:"30%"},on:{"update:visible":function(t){e.messageDialog=t}}},[a("el-form",{ref:"form",attrs:{"label-width":"100px",model:e.dialogInfo,rules:e.rules}},[a("el-form-item",{attrs:{label:"问题内容",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入问题内容"},model:{value:e.dialogInfo.name,callback:function(t){e.$set(e.dialogInfo,"name",t)},expression:"dialogInfo.name"}})],1),a("el-form-item",{attrs:{label:"回答教师",prop:"teacherId"}},[a("el-select",{attrs:{placeholder:"请选择回答教师"},model:{value:e.dialogInfo.teacherId,callback:function(t){e.$set(e.dialogInfo,"teacherId",t)},expression:"dialogInfo.teacherId"}},e._l(e.teacherList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"回答内容",prop:"answer"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},resize:"none",placeholder:"请输入回答内容"},model:{value:e.dialogInfo.answer,callback:function(t){e.$set(e.dialogInfo,"answer",t)},expression:"dialogInfo.answer"}})],1),a("el-form-item",{attrs:{label:"问题类型"}},[a("el-radio-group",{attrs:{disabled:e.dialogType},model:{value:e.dialogInfo.type,callback:function(t){e.$set(e.dialogInfo,"type",t)},expression:"dialogInfo.type"}},[a("el-radio",{attrs:{label:1}},[e._v("普通问题")]),a("el-radio",{attrs:{label:2}},[e._v("常见问题")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.messageDialog=!1}}},[e._v("取 消")]),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:!e.isCheck,expression:"!isCheck"}],attrs:{type:"primary"},on:{click:function(t){return e.submitBtn("form")}}},[e._v("保 存")])],1)],1)],1)},r=[],s=(a("7f7f"),a("ac6a"),{name:"question",components:{Crumbes:function(){return a.e("chunk-2d0b1a42").then(a.bind(null,"215b"))},Pagination:function(){return a.e("chunk-679a02ad").then(a.bind(null,"d529"))}},data:function(){return{rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],teacherId:[{required:!0,message:"请选择老师",trigger:"blur"}],answer:[{required:!0,message:"请输入答案",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"blur"}]},loading:!1,dataList:[],teacherList:[],paginationData:{},pageNumber:"",searchForm:{},messageDialog:!1,dialogType:!1,dialogInfo:{name:"",teacherId:"",answer:"",type:2,problemId:0},isCheck:!0}},methods:{getData:function(){var e=this;console.log(this.searchForm);var t={pageNum:this.pageNumber||null,teacherName:this.searchForm.teacherName||null,answerStatus:this.searchForm.answerStatus||null,type:this.searchForm.type||null,start:this.searchForm.start||null,end:this.searchForm.end||null};this.axios.get("/manager/problemManagement/obtainProblem",{params:t}).then((function(t){200===t.status&&(e.loading=!1,e.dataList=t.data.contents,e.paginationData=t.data.page,e.getTeacherList())}))},currentChange:function(e){this.pageNumber=e,this.getData()},getTeacherList:function(){var e=this,t={pageSize:999};this.axios.get("/manager/teacherManagement/obtianTeacher",{params:t}).then((function(t){200===t.status?e.teacherList=t.data.contents:e.$message.warning(t.data)}))},openDialog:function(e,t){this.messageDialog=!0,this.dialogType="add"===e,this.dialogInfo=t?JSON.parse(JSON.stringify(t)):{name:"",teacherName:"",answer:"",problemId:0,type:2},console.log(this.dialogInfo)},submitBtn:function(e){var t=this;this.isCheck&&this.$refs[e].validate((function(e){var a;e&&(t.teacherList.forEach((function(e){e.id===t.dialogInfo.teacherId&&(a=e.name)})),t.isCheck=!1,!t.dialogType&&(t.dialogInfo["problemId"]=t.dialogInfo.id),t.dialogInfo["teacherName"]=a,t.axios.post("/manager/problemManagement/insertProblem",t.dialogInfo).then((function(e){200===e.status?(t.$message.success("保存成功"),t.messageDialog=!1,t.getData(),setTimeout((function(){t.isCheck=!0}),500)):(t.$message.success(e.data),setTimeout((function(){t.isCheck=!0}),500))})).catch((function(e){setTimeout((function(){t.isCheck=!0}),500)})))}))},deleteData:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={problemId:e.id};t.axios.get("/manager/problemManagement/deleteProblem",{params:a}).then((function(e){200===e.status?(t.getData(),t.$message.success(e.data)):t.$message.warning(e.data)}))})).catch((function(){}))}},created:function(){this.getData()}}),n=s,l=(a("6ad4"),a("2877")),i=Object(l["a"])(n,o,r,!1,null,"abc28e34",null);t["default"]=i.exports},"6ad4":function(e,t,a){"use strict";var o=a("3dad"),r=a.n(o);r.a}}]);